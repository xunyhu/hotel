# 数据库设计

1. 用户信息表（users）

    | 字段名         | 类型           | 说明           |
    | ----------- | ------------ | ------------ |
    | id          | bigint PK    | 用户唯一ID       |
    | openid      | varchar(64)  | 微信用户唯一标识     |
    | unionid     | varchar(64)  | 微信用户全局唯一标识   |
    | username    | varchar(50)  | 用户昵称         |
    | password    | varchar(255) | 登录密码（管理员）    |
    | phone       | varchar(20)  | 联系方式         |
    | role\_id    | bigint FK    | 关联权限管理表，用户角色 |
    | created\_at | datetime     | 创建时间         |
    | updated\_at | datetime     | 更新时间         |

2. 菜品信息表（dishes）

    | 字段名         | 类型            | 说明   |
    | ----------- | ------------- | ---- |
    | id          | bigint PK     | 菜品ID |
    | name        | varchar(100)  | 菜品名称 |
    | price       | decimal(10,2) | 价格   |
    | category    | varchar(50)   | 菜品类别 |
    | stock       | int           | 库存数量 |
    | image\_url  | varchar(255)  | 图片路径 |
    | created\_at | datetime      | 创建时间 |
    | updated\_at | datetime      | 更新时间 |

3. 订单信息表（orders）

    | 字段名             | 类型            | 说明                    |
    | --------------- | ------------- | --------------------- |
    | id              | bigint PK     | 订单ID                  |
    | user\_id        | bigint FK     | 关联用户表                 |
    | total\_amount   | decimal(10,2) | 订单总金额                 |
    | status          | varchar(20)   | 订单状态（未支付、已支付、配送中、完成等） |
    | payment\_status | varchar(20)   | 支付状态                  |
    | created\_at     | datetime      | 下单时间                  |
    | updated\_at     | datetime      | 更新时间                  |

4. 订单详情表（order_items）

    | 字段名         | 类型            | 说明      |
    | ----------- | ------------- | ------- |
    | id          | bigint PK     | 订单详情ID  |
    | order\_id   | bigint FK     | 关联订单信息表 |
    | dish\_id    | bigint FK     | 关联菜品信息表 |
    | quantity    | int           | 菜品数量    |
    | price       | decimal(10,2) | 单价      |
    | created\_at | datetime      | 创建时间    |
    | updated\_at | datetime      | 更新时间    |

5. 评价表（reviews）

    | 字段名              | 类型        | 说明        |
    | ---------------- | --------- | --------- |
    | id               | bigint PK | 评价ID      |
    | order\_id        | bigint FK | 关联订单表     |
    | user\_id         | bigint FK | 关联用户表     |
    | rating\_service  | int       | 服务评分（1-5） |
    | rating\_food     | int       | 菜品评分（1-5） |
    | rating\_delivery | int       | 配送评分（1-5） |
    | comment          | text      | 评价内容      |
    | created\_at      | datetime  | 评价时间      |

6. 权限管理表（roles）

    | 字段名         | 类型          | 说明               |
    | ----------- | ----------- | ---------------- |
    | id          | bigint PK   | 角色ID             |
    | role\_name  | varchar(50) | 角色名称（管理员、普通用户）   |
    | permissions | text        | 权限列表(JSON或字符串形式） |
    | created\_at | datetime    | 创建时间             |
    | updated\_at | datetime    | 更新时间             |
