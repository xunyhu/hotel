# 📌 项目分解开发计划

## 阶段一：环境与项目初始化

目标：准备好运行环境和项目框架

环境准备：

Node.js (>=18)

MySQL 8 + Redis 6

Nginx（后续部署用）

项目初始化：

backend/ → Node.js (Express 或 NestJS)

frontend-user/ → Vue3 + Vite + TailwindCSS（公众号用户端）

frontend-admin/ → Vue3 + Vite + Element Plus（酒店管理端）

✅ 产出：能跑起来的空项目骨架。

## 阶段二：数据库设计与建表

目标：设计核心表结构

users 用户表：openid、昵称、房间号

rooms 房间表：房间号、入住状态

menus 菜单表：菜品、分类、价格、库存

orders 订单表：状态（待接单/配送中/完成）

order_items 订单明细表

payments 支付记录表

✅ 产出：SQL 脚本，可以在 MySQL 中初始化数据库。

## 阶段三：后端接口开发

目标：实现 RESTful API

用户认证与房间绑定

/api/auth/login → 获取用户openid

/api/room/bind → 绑定房间号

菜单相关

/api/menu/list → 获取菜品

/api/menu/detail/:id → 获取单个菜品信息

订单相关

/api/order/create → 创建订单

/api/order/status/:id → 查询订单状态

/api/order/cancel/:id → 取消订单

管理端

/api/admin/menu → 菜单管理

/api/admin/orders → 订单管理

微信支付对接

/api/pay/create → 生成支付参数

/api/pay/notify → 接收微信支付回调

✅ 产出：可以在 Postman 测试通过的后端接口。

## 阶段四：用户端开发（公众号H5）

目标：住客可以完成完整订餐流程

首页：菜品分类展示

菜单详情：加入购物车

购物车：生成订单

微信支付：调起支付

订单查询：查看状态（待接单、配送中、已完成）

评价页面：提交评分

✅ 产出：住客端 H5 页面，可以在微信中打开。

## 阶段五：后台管理端开发

目标：酒店工作人员能方便操作

登录与权限管理（管理员、厨师、前台）

菜品管理（增删改查）

订单管理（接单、制作中、配送中、完成）

数据统计（订单量、热门菜品、销售额）

✅ 产出：管理端 Web 页面，可以在 PC 浏览器使用。

## 阶段六：系统联调与部署

目标：上线可用

后端部署：PM2 + Node.js

前端部署：Nginx 托管静态资源

数据库与Redis：云服务托管（腾讯云/阿里云）

微信公众号配置：

JS接口安全域名

网页授权回调域名

微信支付商户号

✅ 产出：一个真实可运行的系统，可以在酒店场景中使用。